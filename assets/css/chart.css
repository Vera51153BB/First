/* –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –±–∞–∑–∞ */
:root{
  --bg:#0b0f14; --text:#e6e6e6; --muted:#9aa4af; --accent:#ffd65c; --danger:#ff6b6b;
  --pad: clamp(10px, 2.5vw, 14px);
  --radius: 12px;

  /* –¥–æ–∫-–ø–∞–Ω–µ–ª—å */
  --dock-h: clamp(50px, 9vw, 58px);

  /* –≤—ã—Å–æ—Ç–∞ –ø–∞–Ω–µ–ª–∏ */
  --panel-h: 72vh;
}
@media (min-width: 900px){ :root{ --panel-h: 60vh; } }

html,body{height:100svh;margin:0;background:var(--bg);color:var(--text);font-family:system-ui,Arial}
#wrap{height:100svh;display:flex;flex-direction:column}

header{padding:8px 12px;font-size:14px;font-weight:600;letter-spacing:.2px;opacity:.9}

/* –≥—Ä–∞—Ñ–∏–∫ + –∫–∞–Ω–≤–∞—Å –ø–æ–ª–æ–∫ */
#chart-wrap{position:relative;flex:1;min-height:360px}
#chart{position:absolute;inset:0}
#shelves{
  position:absolute; inset:0;
  pointer-events:none; /* –∫–∞–Ω–≤–∞—Å –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∂–µ—Å—Ç—ã */
}

/* –¥–æ–∫-–ø–∞–Ω–µ–ª—å */
footer#dock{
  position: relative;
  height: var(--dock-h);
  min-height: var(--dock-h);
  max-height: var(--dock-h);
  border-top: 1px solid rgba(255,255,255,.08);
  padding: 0 var(--pad);
  padding-bottom: calc(var(--pad) + env(safe-area-inset-bottom, 0px));
  display:flex; align-items:center; gap:12px;
  background: rgba(255,255,255,0.02);
}
#status-dot{ width:10px;height:10px;border-radius:50%;box-shadow:0 0 0 2px rgba(255,255,255,.06) inset }
#status-dot.online{ background:#34c759 }     /* üü¢ */
#status-dot.degraded{ background:#ffd60a }   /* üü° */
#status-dot.offline{ background:#ff453a }    /* üî¥ */
#status-text{ color:var(--muted); font-size:15px }
.spacer{flex:1}
#btn-panel, #btn-status-info, #btn-vol{
  background: transparent; color: var(--text);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: var(--radius);
  padding: 10px 14px; cursor: pointer; font: inherit; line-height: 1.1; min-height:44px;
}
#btn-panel[aria-expanded="true"], #btn-status-info[aria-expanded="true"]{ border-color: rgba(255,255,255,.65) }
#btn-status-info{ color:var(--muted) }
#btn-vol{ border-color: rgba(255,255,255,.28) }

/* –ø–∞–Ω–µ–ª—å */
#panel{
  position: fixed; left:0; right:0; bottom:0;
  height: var(--panel-h);
  background: rgba(10,14,19,.98);
  border-top: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 -10px 30px rgba(0,0,0,.35);
  transform: translateY(100%);
  transition: transform .25s ease;
  display: grid; grid-template-rows: auto 1fr;
  z-index: 50; padding-bottom: env(safe-area-inset-bottom, 0px);
}
#panel.open{ transform: translateY(0%) }

#panel-head{ display:flex; align-items:center; gap:10px; padding:10px var(--pad); border-bottom:1px solid rgba(255,255,255,.08) }
#panel-title{ font-weight:600 }
#btn-close{
  margin-left:auto; background:transparent; color:var(--text);
  border:1px solid rgba(255,255,255,.18); border-radius:var(--radius); padding:6px 10px; cursor:pointer; font:inherit;
}

#panel-body{ display:grid; grid-template-rows:repeat(3,1fr); padding:var(--pad); gap:8px }
.row{ display:flex; align-items:center; gap:10px; min-height:0 }
.row a, .row button{
  background: transparent; color: var(--text);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: var(--radius); padding: 10px 14px;
  cursor: pointer; text-decoration:none; font: inherit; line-height:1.1; white-space:nowrap; min-height:44px;
}
.row .muted{ color:var(--muted); border-color:rgba(255,255,255,.12) }
.row .danger{ color:var(--danger); border-color:rgba(255,0,0,.25) }
.row .ghost{ color:var(--text); border-color:rgba(255,255,255,.20) }
.row .active{ border-color: rgba(255,255,255,.8); box-shadow: inset 0 0 0 1px rgba(255,255,255,.25) }
.row .star.active{ background: rgba(255,214,92,.12); border-color: rgba(255,214,92,.8); color:var(--accent) }
#last-upd{ color:var(--muted); margin-left:auto }

/* –ø–æ–ø–æ–≤–µ—Ä —Å—Ç–∞—Ç—É—Å–∞ */
#status-popover{ position:fixed; left:12px; right:12px; bottom:calc(var(--dock-h) + 12px); z-index:60 }
#status-popover[hidden]{ display:none }
#status-popover .tip-card{
  background: rgba(15,20,26,.98);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  padding: 12px;
}
#status-popover .tip-title{ font-weight:600; margin-bottom:8px }
#status-popover .tip-list{ margin:0; padding-left:16px; color:var(--text) }
#status-popover .tip-list li{ margin:6px 0 }
#status-popover #btn-tip-close{ margin-top:10px }

/* –Ω–∏–∂–Ω–∏–π —Ö–∏–Ω—Ç */
.hint{ padding:8px 12px; color:var(--muted); font-size:13px }
.hint .err{ color:#ff8e8e }
