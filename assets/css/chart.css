:root{
--muted:#93a1b3; /* вторичный текст */
--accent:#5bbcff; /* акцент/границы */
--bar:#0f1524cc; /* фон панелей */
--btn:#1a2135; /* фон кнопок */
--btn-hover:#232c46; /* наведение */
--safe: env(safe-area-inset-bottom, 0px);
}
*{box-sizing:border-box}
html,body{height:100%; margin:0; background:var(--bg); color:var(--fg);}


/* Фикс 100vh для мобильных/iOS: js пишет --vh */
#app{height:calc(var(--vh, 1vh) * 100); display:flex; flex-direction:column;}


.bar{display:flex; align-items:center; justify-content:space-between; gap:.5rem; padding:.5rem .75rem; background:var(--bar); border-bottom:1px solid #101626;}
#footerbar{border-top:1px solid #101626; border-bottom:none; padding-bottom:calc(.5rem + var(--safe));}


.status-left .title{font:600 0.95rem/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial; letter-spacing:.2px}
.status-right{display:flex; gap:.5rem}
.icon{display:inline-flex; align-items:center; justify-content:center; width:34px; height:28px; border-radius:10px; background:var(--btn); border:1px solid rgba(255,255,255,.1); color:var(--muted); cursor:pointer}
.icon:hover{background:var(--btn-hover)}


#stage{position:relative; flex:1 1 auto; min-height:0;}
#chart-host{position:absolute; inset:0;}
#chart-host iframe, #chart-host .tv-wrap{position:absolute; inset:0; width:100%; height:100%; border:0;}


/* Заглушка VP */
#vp-placeholder{position:absolute; inset:0; display:grid; place-items:center;}
.vp-card{background:#121a2d; border:1px dashed var(--accent); border-radius:16px; padding:24px; max-width:560px; text-align:center}
.vp-card h2{margin:0 0 8px; font-size:20px}
.vp-card p{margin:0; color:var(--muted)}
.vp-card a{color:#9ed1ff}


/* Нижние вкладки */
.tabs{display:flex; gap:.5rem; width:100%;}
.tab{flex:1 1 0; padding:.6rem .8rem; border-radius:12px; background:var(--btn); color:var(--fg); border:1px solid rgba(255,255,255,.08); cursor:pointer; font:600 0.95rem/1 system-ui}
.tab:hover{background:var(--btn-hover)}
.tab.is-active{outline:2px solid var(--accent)}


/* Popover/уведомление (dialog) */
dialog{border:none; padding:0; background:transparent}
dialog::backdrop{background:rgba(0,0,0,.45)}
.sheet{background:#0b1224; border:1px solid #1c2340; border-radius:16px; padding:16px; min-width:min(92vw,680px)}
.sheet-row{display:flex; gap:8px; flex-wrap:wrap;}
.pill{flex:1 1 0; padding:.8rem 1rem; border-radius:999px; background:#141c36; color:var(--fg); border:1px solid rgba(255,255,255,.08); cursor:pointer; font:600 0.95rem/1}
.pill:hover{background:#1a2446}
.links{margin-top:10px}
.links a{flex:1 1 0; display:inline-block; text-align:center; padding:.6rem .8rem; border-radius:10px; background:#10172d; border:1px solid rgba(255,255,255,.08); color:#b7c8e6; text-decoration:none}
.sheet-actions{margin-top:10px; display:flex; justify-content:flex-end}
.ghost{background:transparent; border:1px solid rgba(255,255,255,.2); color:var(--muted); padding:.4rem .8rem; border-radius:8px; cursor:pointer}


/* Мелкие адаптивы */
@media (max-width: 480px){
.status-left .title{font-size:.9rem}
}
