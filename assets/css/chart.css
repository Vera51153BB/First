/* -*- coding: utf-8 -*-  First/assets/css/chart.css
   –í–ï–†–°–ò–Ø: fixed-dock + mobile-first
   –ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:
   ‚Ä¢ –î–æ–∫-–ø–æ–ª–æ—Å–∞ (#dock) —Ç–µ–ø–µ—Ä—å FIXED —É –Ω–∏–∑–∞ —ç–∫—Ä–∞–Ω–∞ –∏ –Ω–µ ¬´—É–µ–∑–∂–∞–µ—Ç¬ª.
   ‚Ä¢ –ö–æ–Ω—Ç–µ–Ω—Ç—É –¥–æ–±–∞–≤–ª–µ–Ω ¬´–ø—Ä–æ—Å–≤–µ—Ç¬ª —Å–Ω–∏–∑—É (padding-bottom), —á—Ç–æ–±—ã –ø–æ–ª–æ—Å–∞ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–∞ –≥—Ä–∞—Ñ–∏–∫.
   ‚Ä¢ –ö–Ω–æ–ø–∫–∞ —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π (#btn-panel): –∫–≤–∞–¥—Ä–∞—Ç, —Ä–∞–∑–º–µ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã—Å–æ—Ç—ã –ø–æ–ª–æ—Å—ã, –æ—Ç –ø—Ä–∞–≤–æ–≥–æ –∫—Ä–∞—è –æ—Ç—Å—Ç—É–ø 10px.
   ‚Ä¢ –°—Ç—Ä–µ–ª–∫–∞ —Ä–∏—Å—É–µ—Ç—Å—è –∫–∞–∫ ::before (–æ–¥–Ω–∞, —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ translate) ‚Äî –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏–º–≤–æ–ª–æ–º.
   ‚Ä¢ –ö–Ω–æ–ø–∫–∞ ¬´i¬ª –º–∞–ª–µ–Ω—å–∫–∞—è, –Ω–∞ –Ω–∏–∂–Ω–µ–π –∫—Ä–æ–º–∫–µ –ª–æ–≥–æ—Ç–∏–ø–∞, –≤ ~–¥–≤—É—Ö ¬´–ø—Ä–æ–±–µ–ª–∞—Ö¬ª –æ—Ç –Ω–µ–≥–æ.
   ‚Ä¢ –ü–∞–Ω–µ–ª—å (#panel) —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞–¥ –ø–æ–ª–æ—Å–æ–π –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –í–í–ï–†–•.
*/

:root{
  --bg:#0b0f14; --text:#e6e6e6; --muted:#9aa4af; --accent:#ffd65c; --danger:#ff6b6b;
  --pad: clamp(10px, 2.5vw, 14px);
  --radius: 12px;

  /* –≤—ã—Å–æ—Ç—ã */
  --dock-h: clamp(44px, 7.2vh, 58px);    /* –≤—ã—Å–æ—Ç–∞ –ø–æ–ª–æ—Å—ã –≤–Ω–∏–∑—É */
  --dock-vpad: 3px;                      /* –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª–æ—Å—ã */
  --panel-h: min(60vh, 420px);           /* –≤—ã—Å–æ—Ç–∞ –≤—ã–µ–∑–∂–∞—é—â–µ–π –ø–∞–Ω–µ–ª–∏ */

  /* —Ä–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –ø–æ–ª–æ—Å–µ */
  --logo-h: clamp(20px, 4.8vh, 30px);    /* –≤—ã—Å–æ—Ç–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ (OKX/TV/VP) */
  --dot: 10px;                           /* –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–ª–µ–≤–∞ */
}

/* --- iOS safe-area + —Ä–µ–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –æ–∫–Ω–∞ --- */
:root{
  /* –±—ã–ª–æ: --dock-h, --panel-h –∏ —Ç.–¥. ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º */
  --safe: env(safe-area-inset-bottom, 0px);
  --dock-total: calc(var(--dock-h) + var(--safe)); /* —Å—É–º–º–∞—Ä–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –Ω–∏–∂–Ω–µ–π –ø–æ–ª–æ—Å—ã —Å ¬´–ø–æ–¥–±–æ—Ä–æ–¥–∫–æ–º¬ª iOS */

  /* –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π vh */
  --winH: 100vh;
}
/* –µ—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤—ã–µ –µ–¥–∏–Ω–∏—Ü—ã dvh (iOS 16+), –±–µ—Ä—ë–º –∏—Ö ‚Äî —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–∞—è –≤–∏–¥–∏–º–∞—è –≤—ã—Å–æ—Ç–∞ */
@supports (height: 100dvh){
  :root{ --winH: 100dvh; }
}

/* –±–∞–∑–æ–≤—ã–µ */
html,body{
  height:100%;
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,Arial;
  overscroll-behavior: none; /* iOS: –∂–µ—Å—Ç –Ω–µ ¬´–∫—Ä–∞–¥—ë—Ç—Å—è¬ª –±—Ä–∞—É–∑–µ—Ä–æ–º */
}

/* –í–ê–ñ–ù–û: –¥–∞—ë–º ¬´–ø—Ä–æ—Å–≤–µ—Ç¬ª = –≤—ã—Å–æ—Ç–∞ –ø–æ–ª–æ—Å—ã */
:root{ --safe-bottom: env(safe-area-inset-bottom, 0px); }

#wrap{
  height:100%;
  display:flex;
  flex-direction:column;
  padding-bottom: calc(var(--dock-h) + var(--safe-bottom));
}

header{padding:10px 14px;font-weight:600;letter-spacing:.3px}
#chart{flex:1;min-height:320px}
#status-text{
  color: var(--muted);
  font-size: 14px;
  min-width: 0;                 /* –ø–æ–∑–≤–æ–ª—è–µ–º flex —É–∂–∏–º–∞—Ç—å—Å—è */
  overflow: hidden;
  text-overflow: ellipsis;      /* –µ—Å–ª–∏ –Ω–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è ‚Äî —Ç—Ä–∏ —Ç–æ—á–∫–∏, –±–µ–∑ –Ω–∞–ª–µ–∑–∞–Ω–∏—è */
  white-space: nowrap;
}

/* ---------- –ü–û–õ–û–°–ê (–î–û–ö) ---------- */
/* –ü–û–õ–û–°–ê –≤—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö, –Ω–∞ –≤—Å—ë–º –≤—å—é–ø–æ—Ä—Ç–µ, —Å —É—á—ë—Ç–æ–º safe-area */
footer#dock{
  position: fixed;   /* –±—ã–ª–æ relative ‚Äî –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ –ø–æ–ª–æ—Å–∞ ¬´—É–µ–∑–∂–∞–ª–∞¬ª –∏ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª–∞—Å—å */
  left: 0; right: 0; bottom: 0;
  z-index: 1000;     /* –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø–æ–≤–µ—Ä—Ö –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
  height: var(--dock-h);
  min-height: var(--dock-h);
  max-height: var(--dock-h);

  /* –±–∞–∑–æ–≤–∞—è —Å—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ */
  border-top: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,0.02);
  padding: 0 var(--pad);
  display: flex;
  align-items: center;
  gap: 10px;

  -webkit-tap-highlight-color: transparent;  /* —É–±–∏—Ä–∞–µ—Ç —Å–∏–Ω—é—é ¬´–≤—Å–ø—ã—à–∫—É¬ª –Ω–∞ iOS */
}
footer#dock *:focus{ outline: none; } /* –µ—â—ë –æ–¥–∏–Ω ¬´–∞–Ω—Ç–∏-—Å–∏–Ω–∏–π-–±–æ—Ä–¥–µ—Ä¬ª –Ω–∞ —Ñ–æ–∫—É—Å–∞—Ö */


#dock-logo{ height: var(--logo-h); width:auto; display:block }
#status-dot{
  width: var(--dot); height: var(--dot); border-radius: 50%;
  box-shadow: 0 0 0 2px rgba(255,255,255,.06) inset;
  align-self: center;                       /* –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º –ø–æ —Ü–µ–Ω—Ç—Ä—É –ª–æ–≥–æ—Ç–∏–ø–∞ */
}
#status-dot.online{ background:#34c759 }    /* üü¢ */
#status-dot.degraded{ background:#ffd60a }  /* üü° */
#status-dot.offline{ background:#ff453a }   /* üî¥ */

/* –ö–Ω–æ–ø–∫–∞ ¬´i¬ª ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–π –∫–≤–∞–¥—Ä–∞—Ç —É –Ω–∏–∂–Ω–µ–π –∫—Ä–æ–º–∫–∏ –ª–æ–≥–æ—Ç–∏–ø–∞ */
#btn-status-info{
  background: transparent;
  color: var(--muted);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 10px;
  height: calc(var(--logo-h) / 1.5);  /* 1/2 –ª–æ–≥–æ—Ç–∏–ø–∞ */
  width:  calc(var(--logo-h) / 1.5);
  display: flex; align-items: center; justify-content: center;
  font: 600 0.72rem/1 system-ui,Arial;
  cursor: pointer;

  align-self: flex-end;     /* –≤–Ω–∏–∑ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ª–æ–≥–æ—Ç–∏–ø–∞ */
  margin-left: .6rem;       /* ¬´–¥–≤–∞ –ø—Ä–æ–±–µ–ª–∞¬ª –æ—Ç –ª–æ–≥–æ—Ç–∏–ø–∞ */
}
#btn-status-info:hover{ border-color: rgba(255,255,255,.35) }


/* –ö–ù–û–ü–ö–ê –°–¢–†–ï–õ–ö–ò ‚Äî —Ä–∞–∑–º–µ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã—Å–æ—Ç—ã –ø–æ–ª–æ—Å—ã, –∫–≤–∞–¥—Ä–∞—Ç —Å–æ —Å–∫–æ—à–µ–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏
   –∏ –æ—Ç—Å—Ç—É–ø–æ–º 10px –æ—Ç –ø—Ä–∞–≤–æ–≥–æ –∫—Ä–∞—è. –°—Ç—Ä–µ–ª–∫–∞ –æ–¥–Ω–∞ (—á–µ—Ä–µ–∑ ::before) –∏ —Å—Ç—Ä–æ–≥–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É. */
/* –∫–≤–∞–¥—Ä–∞—Ç = –≤—ã—Å–æ—Ç–∞ –ø–æ–ª–æ—Å—ã –º–∏–Ω—É—Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –ø–∞–¥–¥–∏–Ω–≥–∏ */
/* —Å–∞–º–∞ ¬´—Ç–∞–±–ª–µ—Ç–∫–∞¬ª ‚Äî —Ä–∞–∑–º–µ—Ä –æ—Ç –≤—ã—Å–æ—Ç—ã –ø–æ–ª–æ—Å—ã, —Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
#btn-panel{
  --ctl: calc(var(--dock-h) - 6px); /* –æ—Ç—Å—Ç—É–ø—ã –ø–æ 3px —Å–≤–µ—Ä—Ö—É/—Å–Ω–∏–∑—É ‚Üí –≤—ã—Å–æ—Ç–∞ = h-6 */
  height: var(--ctl);
  width:  var(--ctl);
  margin-right: 10px;              /* ‚Üê —Å–º–µ—Å—Ç–∏–ª–∏ –≤–ª–µ–≤–æ –æ—Ç –ø—Ä–∞–≤–æ–≥–æ –∫—Ä–∞—è –Ω–∞ 10px */

  background: transparent;
  color: var(--text);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: 10px;              /* ¬´—Å–∫–æ—à–µ–Ω–Ω—ã–µ¬ª —É–≥–ª—ã */
  display: grid;
  place-items: center;
  cursor: pointer;

  outline: none;                    /* —É–±–∏—Ä–∞–µ–º —Å–∏–Ω—é—é –ª–∏–Ω–∏—é –Ω–∞ —Ñ–æ–∫—É—Å–µ */
  transition: border-color .15s ease, background-color .15s ease;
}
/* –±–µ–ª—ã–π —Ä–∞–≤–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫, –≤—Å–µ–≥–¥–∞ —Ä–æ–≤–Ω–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É */
#btn-panel::before{
  content: "";
  width: 0; height: 0;
  border-left:  8px solid transparent;
  border-right: 8px solid transparent;
  border-bottom: 12px solid #fff;  /* ‚ñ≤ –≤–≤–µ—Ä—Ö */
}
#btn-panel[aria-expanded="true"]::before{
  border-bottom: 0;
  border-top: 12px solid #fff;     /* ‚ñº –≤–Ω–∏–∑ */
}
#btn-panel:hover{ border-color: rgba(255,255,255,.35) }
#btn-panel:active{ background: rgba(255,255,255,.06) }

.spacer{ flex:1 }

/* ---------- –ü–ê–ù–ï–õ–¨ –ù–ê–°–¢–†–û–ï–ö (—Å–Ω–∏–∑—É, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–≤–µ—Ä—Ö) ---------- */
/* –∑–∞–∫—Ä—ã—Ç–∞—è –ø–∞–Ω–µ–ª—å ‚Äî –∑–∞ –Ω–∏–∂–Ω–∏–º –∫—Ä–∞–µ–º */
#panel{
  position: fixed;
  left: 0; right: 0;
  bottom: var(--dock-total);              /* —É—á–∏—Ç—ã–≤–∞–µ–º –ø–æ–ª–æ—Å—É + safe-area */
  z-index: 1100;

  height: min(calc(var(--winH) * 0.60), 420px); /* 60% –≤–∏–¥–∏–º–æ–π –≤—ã—Å–æ—Ç—ã –æ–∫–Ω–∞, –Ω–æ –Ω–µ –≤—ã—à–µ 420px */
  transform: translateY(100%);            /* —Å–∫—Ä—ã—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é */
  transition: transform .25s ease;

  background: rgba(10,14,19,.98);
  border-top: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 -10px 30px rgba(0,0,0,.35);

  display: grid;
  grid-template-rows: auto 1fr;

  will-change: transform;                 /* —Å–≥–ª–∞–∂–∏–≤–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é –Ω–∞ iOS */
  backface-visibility: hidden;
}
#panel.open{ transform: translateY(0%); } /* –æ—Ç–∫—Ä—ã—Ç–∞ ‚Äî –¥–æ–µ–∑–∂–∞–µ—Ç –¥–æ —É–ø–æ—Ä–∞ */

#panel-head{
  display:flex; align-items:center; gap:10px;
  padding: 10px var(--pad);
  border-bottom: 1px solid rgba(255,255,255,.08);
}
#panel-title{ font-weight:600 }
/* ¬´–°–≤–µ—Ä–Ω—É—Ç—å¬ª ‚Äî –æ–±—ã—á–Ω–∞—è –∫–Ω–æ–ø–∫–∞, —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –≤–Ω–∏–∑ —Å–∏–º–≤–æ–ª–æ–º */
#btn-collapse{
  background:transparent; color:var(--text);
  border:1px solid rgba(255,255,255,.18);
  border-radius:var(--radius);
  padding:6px 10px; cursor:pointer; font:inherit;
}

#panel-body{ display:grid; grid-template-rows: repeat(3,1fr); padding: var(--pad); gap: 8px }
.row{ display:flex; align-items:center; gap:10px; min-height:0 }
.row a,.row button{
  background: transparent; color: var(--text);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: var(--radius); padding: 6px 10px;
  cursor: pointer; text-decoration: none; font: inherit; line-height: 1.1; white-space: nowrap;
}
.row .active{ border-color: rgba(255,255,255,.65) }
.row .muted{ color: var(--muted); border-color: rgba(255,255,255,.12) }
.row .danger{ color: var(--danger); border-color: rgba(255,0,0,.25) }
.row .star.active{ background: rgba(255,214,92,.08); border-color: rgba(255,214,92,.8); color: var(--accent) }
#last-upd{ color: var(--muted); margin-left:auto }

/* –ü–æ–ø–æ–≤–µ—Ä ¬´i¬ª (—Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—É) ‚Äî –Ω–∞–¥ –ø–æ–ª–æ—Å–æ–π */
#status-popover{
  position: fixed; left: 12px; right: 12px; bottom: calc(var(--dock-h) + 12px); z-index: 130;
}
#status-popover[hidden]{ display:none }
#status-popover .tip-card{
  background: rgba(15,20,26,.98);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,.35);
  padding: 12px;
}
#status-popover .tip-title{ font-weight: 600; margin-bottom: 8px }
#status-popover .tip-list{ margin:0; padding-left:16px; color:var(--text) }
#status-popover .tip-list li{ margin: 6px 0 }
#status-popover #btn-tip-close{ margin-top:10px }
