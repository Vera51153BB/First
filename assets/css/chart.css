/* -*- coding: utf-8 -*-  First/assets/css/chart.css
   –ö–ª—é—á–µ–≤–æ–µ:
   ‚Ä¢ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∏–∂–Ω—è—è –ø–æ–ª–æ—Å–∞ (–≤–∏–¥–Ω–∞ –≤—Å–µ–≥–¥–∞)
   ‚Ä¢ –ü–∞–Ω–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –í–í–ï–†–• –ø–æ–≤–µ—Ä—Ö –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ –ø–æ–ª–æ—Å—ã
   ‚Ä¢ –°—Ç—Ä–æ–≥–∏–π z-index –ø–ª–∞–Ω, safe-area –¥–ª—è iOS
   ‚Ä¢ –û–î–ò–ù —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –≤ –∫–Ω–æ–ø–∫–µ, ¬´i¬ª –º–∞–ª–µ–Ω—å–∫–∞—è —É –Ω–∏–∂–Ω–µ–π –∫—Ä–æ–º–∫–∏ –ª–æ–≥–æ—Ç–∏–ø–∞
*/

/* ====== –ë–ê–ó–û–í–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ====== */
:root{
  --bg:#0b0f14; --text:#e6e6e6; --muted:#9aa4af; --accent:#ffd65c; --danger:#ff6b6b;

  --pad: clamp(10px, 2.5vw, 14px);
  --radius: 12px;

  /* –≤—ã—Å–æ—Ç—ã */
  --dock-h: clamp(44px, 7.2vh, 58px);    /* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–ª–æ—Å–∞ —Å–Ω–∏–∑—É */
  --panel-h: min(62vh, 440px);           /* –≤—ã—Å–æ—Ç–∞ –≤—ã–µ–∑–∂–∞—é—â–µ–π –ø–∞–Ω–µ–ª–∏ */

  /* —Ä–∞–∑–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª–æ—Å—ã */
  --logo-h: clamp(20px, 4.8vh, 30px);    /* –≤—ã—Å–æ—Ç–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ */
  --dot: 10px;                            /* –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä */
}

/* ====== –ë–ê–ó–ê/–°–ë–†–û–° ====== */
html,body{
  height:100%;
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,Arial;
  overscroll-behavior: none;             /* –Ω–∞ iOS –∂–µ—Å—Ç—ã –ø–∞–Ω–µ–ª–∏ –Ω–µ ¬´–∫—Ä–∞–¥—É—Ç—Å—è¬ª —Å–∏—Å—Ç–µ–º–æ–π */
}

#wrap{
  height:100%;
  display:flex;
  flex-direction:column;
  /* –ü–†–û–°–í–ï–¢ –ø–æ–¥ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø–æ–ª–æ—Å—É (—á—Ç–æ–±—ã –≥—Ä–∞—Ñ–∏–∫ –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª—Å—è) */
  padding-bottom: calc(var(--dock-h) + env(safe-area-inset-bottom, 0px));
}

header{padding:10px 14px;font-weight:600;letter-spacing:.3px}
#chart{flex:1;min-height:320px}

/* ====== Z-INDEX –ü–õ–ê–ù ======
   –∫–æ–Ω—Ç–µ–Ω—Ç (auto) < –¥–æ–∫-–ø–æ–ª–æ—Å–∞ (1000) < –ø–∞–Ω–µ–ª—å (1100) < –ø–æ–ø–æ–≤–µ—Ä (1200) */
:root{
  --z-dock: 1000;
  --z-panel: 1100;
  --z-pop: 1200;
}

/* ====== –§–ò–ö–°–ò–†–û–í–ê–ù–ù–ê–Ø –ù–ò–ñ–ù–Ø–Ø –ü–û–õ–û–°–ê ====== */
footer#dock{
  position: fixed;
  z-index: var(--z-dock);
  left: 0; right: 0; bottom: 0;
  height: var(--dock-h);
  min-height: var(--dock-h);
  max-height: var(--dock-h);
  padding: 0 calc(var(--pad) + 10px) env(safe-area-inset-bottom, 0px) var(--pad); /* —Å–ø—Ä–∞–≤–∞ –æ—Å—Ç–∞–≤–ª—è–µ–º –º–µ—Å—Ç–æ –∫–Ω–æ–ø–∫–µ */
  display:flex; align-items:center; gap:10px;
  border-top: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,0.02);
}

#dock-logo{
  height: var(--logo-h);
  width: auto;
  display:block;
}

/* –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–ª–µ–≤–∞, —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –ø–æ –ª–æ–≥–æ—Ç–∏–ø—É */
#status-dot{
  width: var(--dot);
  height: var(--dot);
  border-radius: 50%;
  box-shadow: 0 0 0 2px rgba(255,255,255,.06) inset;
  align-self: center;
}
#status-dot.online{ background:#34c759 }    /* üü¢ */
#status-dot.degraded{ background:#ffd60a }  /* üü° */
#status-dot.offline{ background:#ff453a }   /* üî¥ */

/* –º–∞–ª–µ–Ω—å–∫–∞—è –∫–≤–∞–¥—Ä–∞—Ç–Ω–∞—è ¬´i¬ª ‚Äî 1/2 –≤—ã—Å–æ—Ç—ã –ª–æ–≥–æ—Ç–∏–ø–∞, –≤–æ–∑–ª–µ –Ω–∏–∂–Ω–µ–π –∫—Ä–æ–º–∫–∏ */
#btn-status-info{
  background:transparent; color:var(--muted);
  border:1px solid rgba(255,255,255,.18);
  border-radius:10px;
  height: calc(var(--logo-h) / 2);
  width:  calc(var(--logo-h) / 2);
  display:flex; align-items:center; justify-content:center;
  font: 600 0.70rem/1 system-ui,Arial;
  cursor:pointer;
  align-self:flex-end;          /* —É –Ω–∏–∂–Ω–µ–π –∫—Ä–æ–º–∫–∏ –ª–æ–≥–æ—Ç–∏–ø–∞ */
  margin-left: .6rem;           /* ¬´–¥–≤–µ –ø—Ä–æ–±–µ–ª—å–Ω—ã–µ —à–∏—Ä–∏–Ω—ã¬ª –æ—Ç –ª–æ–≥–æ—Ç–∏–ø–∞ */
}
#btn-status-info:hover{ border-color: rgba(255,255,255,.35) }

/* –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π.
   –†–∞–∑–º–µ—Ä = –≤—ã—Å–æ—Ç–µ –ø–æ–ª–æ—Å—ã –º–∏–Ω—É—Å 6px —Å–≤–µ—Ä—Ö—É –∏ —Å–Ω–∏–∑—É (–ø–æ 3px), –∫–≤–∞–¥—Ä–∞—Ç–Ω–∞—è.
   –°–¥–≤–∏–Ω—É—Ç–∞ –≤–ª–µ–≤–æ –æ—Ç –ø—Ä–∞–≤–æ–≥–æ –∫—Ä–∞—è –Ω–∞ 10px. */
#btn-panel{
  --ctl: calc(var(--dock-h) - 6px);
  position: absolute;
  right: 10px;
  bottom: calc(env(safe-area-inset-bottom, 0px) + 3px);
  width: var(--ctl);
  height: var(--ctl);
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.18);
  background: transparent;
  cursor: pointer;
  display:grid; place-items:center;
  padding:0;
  outline: none;
  transition: border-color .15s ease, background-color .15s ease;
}
/* –û–î–ò–ù –±–µ–ª—ã–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –ø–æ —Ü–µ–Ω—Ç—Ä—É (‚ñ≤ –≤–≤–µ—Ä—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) */
#btn-panel::before{
  content:"";
  width: 0; height: 0;
  border-left:  8px solid transparent;
  border-right: 8px solid transparent;
  border-bottom: 12px solid #fff; /* ‚ñ≤ */
}
/* –ö–æ–≥–¥–∞ –ø–∞–Ω–µ–ª—å –æ—Ç–∫—Ä—ã—Ç–∞ ‚Äî ‚ñº */
#btn-panel[aria-expanded="true"]::before{
  border-bottom: 0;
  border-top: 12px solid #fff;  /* ‚ñº */
}
#btn-panel:hover,
#btn-panel:focus-visible{ border-color: rgba(255,255,255,.35) }
#btn-panel:active{ background: rgba(255,255,255,.06) }

.spacer{flex:1}

/* ====== –ü–û–ü–û–í–ï–† –°–¢–ê–¢–£–°–ê ====== */
#status-popover{
  position: fixed;
  z-index: var(--z-pop);
  left: 12px;
  right: 12px;
  bottom: calc(var(--dock-h) + 12px + env(safe-area-inset-bottom, 0px));
}
#status-popover[hidden]{ display:none; }
#status-popover .tip-card{
  background: rgba(15,20,26,.98);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  padding: 12px;
}
#status-popover .tip-title{ font-weight:600; margin-bottom:8px; }
#status-popover .tip-list{ margin:0; padding-left:16px; color:var(--text) }
#status-popover .tip-list li{ margin:6px 0; }

/* ====== –í–´–ï–ó–ñ–ê–Æ–©–ê–Ø –ü–ê–ù–ï–õ–¨ ====== */
#panel{
  position: fixed;
  z-index: var(--z-panel);
  left: 0; right: 0;
  bottom: calc(var(--dock-h) + env(safe-area-inset-bottom, 0px));
  height: var(--panel-h);
  background: rgba(10,14,19,.98);
  border-top: 1px solid rgba(255,255,255,.08);
  box-shadow: 0 -10px 30px rgba(0,0,0,.35);

  transform: translateY(100%);
  transition: transform .25s ease;

  display: grid;
  grid-template-rows: auto 1fr;
}
#panel.open{ transform: translateY(0%) }

#panel-head{
  display:flex; align-items:center; gap:10px;
  padding: 10px var(--pad);
  border-bottom: 1px solid rgba(255,255,255,.08);
}
#panel-title{ font-weight:600 }
#btn-close{
  order: -1;
  background: transparent; color: var(--text);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: var(--radius);
  padding: 6px 10px; cursor: pointer; font: inherit;
}

#panel-body{
  display: grid;
  grid-template-rows: repeat(3, 1fr);
  padding: var(--pad);
  gap: 8px;
}
.row{display:flex;align-items:center;gap:10px;min-height:0}
.row a,.row button{
  background: transparent; color: var(--text);
  border: 1px solid rgba(255,255,255,.18);
  border-radius: var(--radius); padding: 6px 10px;
  cursor: pointer; text-decoration: none; font: inherit; line-height: 1.1; white-space: nowrap;
}
.row a:hover,.row button:hover{border-color: rgba(255,255,255,.35)}
.row .muted{color: var(--muted);border-color: rgba(255,255,255,.12)}
.row .danger{color: var(--danger);border-color: rgba(255,0,0,.25)}
.row .star.active{background: rgba(255,214,92,.08);border-color: rgba(255,214,92,.8);color: var(--accent)}
.row .active{border-color: rgba(255,255,255,.65)}
