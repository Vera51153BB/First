<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OKX SWAP Chart</title>

  <!-- CSP: Telegram WebApp, OKX REST/WS, Lightweight-Charts, TradingView CDN -->
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self' https://telegram.org https://s3.tradingview.com https://*.tradingview.com https://unpkg.com;
                 img-src 'self' data: https:;
                 style-src 'self';
                 script-src 'self' https://telegram.org https://s3.tradingview.com https://unpkg.com;
                 connect-src 'self' https://www.okx.com wss://ws.okx.com wss://wsaws.okx.com;">

  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="./assets/css/chart.css">

  <!-- –í–Ω–µ—à–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç—ã -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>

  <!-- –ù–∞—à –∫–æ–¥ -->
  <!-- –í–ù–ò–ú–ê–ù–ò–ï: –ª–æ–≥–∏–∫–∞ –ø–∞–Ω–µ–ª–∏/–¥–æ–∫–∞ —Ç–µ–ø–µ—Ä—å –≤ –æ–¥–Ω–æ–º –º–æ–¥—É–ª–µ okx_chart.js -->
  <script defer src="./assets/js/okx_chart.js"></script>
</head>
<body>
<div id="wrap">
  <header id="title">BTC ‚Ä¢ USDT-SWAP (OKX)</header>
  <div id="chart" aria-label="chart area"></div>

  <!-- –î –æ –∫ - –ø –∞ –Ω –µ –ª —å  (—Å–≤–µ—Ä–Ω—É—Ç–∞—è –ø–æ–ª–æ—Å–∞) -->
  <!-- –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –†–û–í–ù–û –û–î–ò–ù –ª–æ–≥–æ—Ç–∏–ø (–∏—Å—Ç–æ—á–Ω–∏–∫), —Å–ª–µ–≤–∞ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, —Å–ø—Ä–∞–≤–∞ –º–∞–ª–µ–Ω—å–∫–∞—è 'i' –∏ —Å—Ç—Ä–µ–ª–∫–∞ ‚ñ≤ -->
  <footer id="dock" aria-label="switch bar">
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ ‚Äî –ø–æ —Ü–µ–Ω—Ç—Ä—É –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ª–æ–≥–æ—Ç–∏–ø–∞ -->
    <span id="status-dot" class="offline" aria-hidden="true"></span>

    <!-- –í—ã–±—Ä–∞–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫: –æ–¥–Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞; –≤—ã—Å–æ—Ç–∞ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ CSS -->
    <!-- src –º–µ–Ω—è–µ–º –∏–∑ JS: okx|tv|vp -->
    <img id="dock-logo"
         src="./images/okx-logotype-light.png"
         alt="OKX"
         decoding="async"
         fetchpriority="low" />

    <!-- –º–∞–ª–µ–Ω—å–∫–∞—è –∫–≤–∞–¥—Ä–∞—Ç–Ω–∞—è 'i' (—Ç–æ–Ω–∫–∞—è —Å–µ—Ä–∞—è –æ–±–≤–æ–¥–∫–∞), –Ω–∞ –Ω–∏–∂–Ω–µ–π –∫—Ä–æ–º–∫–µ –ª–æ–≥–æ—Ç–∏–ø–∞ -->
    <button id="btn-status-info" class="muted" type="button"
            aria-haspopup="dialog" aria-expanded="false" title="–ß—Ç–æ –∑–Ω–∞—á–∏—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä?">i</button>

    <div class="spacer" aria-hidden="true"></div>

    <!-- –∫–≤–∞–¥—Ä–∞—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å –±–µ–ª—ã–º —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–æ–º –≤–≤–µ—Ä—Ö; –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å -->
    <!-- —Ç–µ–∫—Å—Ç ‚Äî —Å–∏–º–≤–æ–ª; –ø–æ–≤–æ—Ä–æ—Ç/—Å–º–µ–Ω–∞ ‚ñ≤/‚ñº —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏–∑ JS -->
    <button id="btn-panel" type="button" aria-controls="panel" aria-expanded="false" title="–û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏">‚ñ≤</button>
  </footer>

  <!-- –ü–æ–ø–æ–≤–µ—Ä —Å–æ —Å–ø—Ä–∞–≤–∫–æ–π –ø–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—É (i) -->
  <section id="status-popover" role="dialog" aria-modal="false" hidden>
    <div class="tip-card">
      <div class="tip-title">–ß—Ç–æ –∑–Ω–∞—á–∏—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è?</div>
      <ul class="tip-list">
        <li>üü¢ <b>–û–Ω–ª–∞–π–Ω (WS)</b> ‚Äî –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</li>
        <li>üü° <b>–î–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞–Ω (REST)</b> ‚Äî WebSocket –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è.</li>
        <li>üî¥ <b>–û—Ñ—Ñ–ª–∞–π–Ω</b> ‚Äî –Ω–µ—Ç —Å–≤—è–∑–∏ —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏.</li>
      </ul>
      <button id="btn-tip-close" type="button" class="muted" title="–ó–∞–∫—Ä—ã—Ç—å">–ü–æ–Ω—è—Ç–Ω–æ</button>
    </div>
  </section>

  <!-- –ü –∞ –Ω –µ –ª —å  –Ω –∞ —Å —Ç —Ä –æ –µ –∫  (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–≤–µ—Ä—Ö –∏–∑ –Ω–∏–∑–∞) -->
  <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–µ –º–µ–Ω—è–ª–∏: 1 ‚Äî TF, 2 ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ (OKX/TV/VP), 3 ‚Äî –¥–µ–π—Å—Ç–≤–∏—è -->
  <section id="panel" role="dialog" aria-modal="true" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" hidden>
    <div id="panel-head">
      <button id="btn-collapse" type="button" title="–°–≤–µ—Ä–Ω—É—Ç—å">‚ñº</button>
      <div id="panel-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>      
    </div>
    <div id="panel-body">
      <div class="row" id="row-intervals">
        <a data-int="15"  class="int">15m</a>
        <a data-int="60"  class="int">1h</a>
        <a data-int="240" class="int">4h</a>
        <a data-int="480" class="int">8h</a>
        <a data-int="720" class="int">12h</a>
        <a data-int="1440" class="int">1d</a>
        <span id="last-upd" title="–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ">‚Ä¶</span>
      </div>

      <div class="row" id="row-sources">
        <!-- –ö–Ω–æ–ø–∫–∏-–∏—Å—Ç–æ—á–Ω–∏–∫–∏: OKX (–¥–µ—Ñ–æ–ª—Ç), TradingView, Volume Profile -->
        <button type="button" class="src" data-src="okx">OKX (API/WS)</button>
        <button type="button" class="src" data-src="tv">TradingView (–≤–∏–¥–∂–µ—Ç)</button>
        <button type="button" class="src" data-src="vp">–ü–æ–ª–∫–∏</button>
      </div>

      <div class="row" id="row-actions">
        <button id="btn-fav" class="star" type="button" aria-pressed="false">‚ûï –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
        <a id="okx-link" target="_blank" rel="noopener" class="danger">–û—Ç–∫—Ä—ã—Ç—å –Ω–∞ OKX</a>
        <a id="tv-link"  target="_blank" rel="noopener" class="muted">–û—Ç–∫—Ä—ã—Ç—å –≤ TradingView</a>
        <button id="btn-copy" class="muted" type="button">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
      </div>
    </div>
  </section>

  <div class="hint" id="hint" aria-live="polite"></div>
</div>
</body>
</html>
