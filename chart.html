<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>OKX SWAP Chart</title>

  <!-- CSP: Telegram, OKX REST/WS, TradingView, unpkg -->
  <meta http-equiv="Content-Security-Policy"
        content="
      default-src 'self' https://telegram.org https://s3.tradingview.com https://*.tradingview.com https://unpkg.com;
      img-src 'self' data: https:;
      style-src 'self';
      script-src 'self' https://telegram.org https://s3.tradingview.com https://unpkg.com;
      connect-src 'self' https://www.okx.com wss://ws.okx.com wss://wsaws.okx.com;
    ">

  <link rel="stylesheet" href="./assets/css/chart.css">

  <!-- –≤–Ω–µ—à–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç—ã -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>

  <!-- –Ω–∞—à –∫–æ–¥ -->
  <script defer src="./assets/js/okx_chart.js"></script>
  <!-- ui_panel.js –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω –∏ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ–º -->
</head>
<body>
<div id="wrap">
  <header id="title">BTC ‚Ä¢ USDT-SWAP (OKX)</header>
  <div id="chart" aria-label="–ì—Ä–∞—Ñ–∏–∫"></div>

  <!-- –§–ò–ö–°–ò–†–û–í–ê–ù–ù–ê–Ø –ù–ò–ñ–ù–Ø–Ø –ü–û–õ–û–°–ê -->
  <footer id="dock" role="toolbar" aria-label="–í—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞">
    <!-- –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è -->
    <div id="status-dot" class="offline" title="–°—Ç–∞—Ç—É—Å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è"></div>

    <!-- –º–∞–ª–µ–Ω—å–∫–∞—è –∫–≤–∞–¥—Ä–∞—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ ¬´i¬ª ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ø-–∞–ø -->
    <button id="btn-status-info" type="button" title="–°–ø—Ä–∞–≤–∫–∞ / –Ω–∞—Å—Ç—Ä–æ–π–∫–∏">i</button>

    <!-- –ö–ù–û–ü–ö–ò-–õ–û–ì–û–¢–ò–ü–´ (–ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –≥—Ä–∞—Ñ–∏–∫–∞) -->
    <button class="brand" data-src="okx" aria-pressed="false" title="OKX (API/WS)">
      <img id="logo-okx" src="./images/okx-logotype-light.png" alt="OKX">
    </button>
    <button class="brand" data-src="tv" aria-pressed="false" title="TradingView (–≤–∏–¥–∂–µ—Ç)">
      <img id="logo-tv" src="./images/tradingview-logotype-light.png" alt="TradingView">
    </button>
    <button class="brand" data-src="vp" aria-pressed="false" title="Volume Profile (—Å—Å—ã–ª–∫–∞)">
      <img id="logo-vp" src="./images/vp-logotype-light.png" alt="VP">
    </button>

    <div class="spacer" aria-hidden="true"></div>

    <!-- ¬´–∫ –Ω–∞—á–∞–ª—É¬ª (–ø–æ –∂–µ–ª–∞–Ω–∏—é, –º–æ–∂–Ω–æ —É–±—Ä–∞—Ç—å) -->
    <button id="btn-to-top" type="button" title="–ö –Ω–∞—á–∞–ª—É">
      <span class="sr-only">–ö –Ω–∞—á–∞–ª—É</span>
    </button>
  </footer>
</div>

<!-- –ü–û–ü-–ê–ü (ALERT/MODAL) –ø–æ–≤–µ—Ä—Ö —Å–∞–π—Ç–∞.
     –°–æ–¥–µ—Ä–∂–∏—Ç –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏ TF, —Å—Å—ã–ª–∫–∏ –∏ –º–∏–Ω–∏-—Å–ø—Ä–∞–≤–∫—É. -->
<section id="alert" role="dialog" aria-modal="true" aria-labelledby="alert-title" hidden>
  <div class="alert-backdrop" data-close="1"></div>
  <div class="alert-card">
    <div class="alert-head">
      <h2 id="alert-title">–ë—ã—Å—Ç—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
      <button id="alert-close" class="alert-x" title="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    </div>

    <div class="alert-body">
      <!-- 1) –¢–∞–π–º—Ñ—Ä–µ–π–º—ã -->
      <div class="alert-row">
        <div class="row-title">TF:</div>
        <div class="row-controls">
          <!-- data-min: 15|60|240|1440 -->
          <button class="js-int" data-min="15">15m</button>
          <button class="js-int" data-min="60">1h</button>
          <button class="js-int" data-min="240">4h</button>
          <button class="js-int" data-min="1440">1d</button>
          <span id="last-upd" class="muted" title="–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ">‚Ä¶</span>
        </div>
      </div>

      <!-- 2) –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ -->
      <div class="alert-row">
        <div class="row-title">–°—Å—ã–ª–∫–∏:</div>
        <div class="row-controls">
          <a id="okx-link" class="link danger" target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å –Ω–∞ OKX</a>
          <a id="tv-link"  class="link"       target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å –≤ TradingView</a>
          <button id="btn-copy" class="link">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
        </div>
      </div>

      <!-- 3) –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—É -->
      <div class="alert-row">
        <div class="row-title">–°—Ç–∞—Ç—É—Å:</div>
        <ul class="row-help">
          <li>üü¢ –û–Ω–ª–∞–π–Ω (WS) ‚Äî –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.</li>
          <li>üü° –î–µ–≥—Ä–∞–¥–∏—Ä–æ–≤–∞–Ω (REST) ‚Äî WebSocket –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏.</li>
          <li>üî¥ –û—Ñ—Ñ–ª–∞–π–Ω ‚Äî –Ω–µ—Ç —Å–≤—è–∑–∏ —Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏.</li>
        </ul>
      </div>
    </div>
  </div>
</section>
</body>
</html>
